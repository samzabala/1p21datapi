{"version":3,"file":"dataVisualizer.min.js","sources":["../src/data-visualizer/js/src/util/template-component.js","../src/data-visualizer/js/src/util/helpers.js","../src/data-visualizer/js/src/components/axis.js","../src/data-visualizer/js/src/components/shape.js","../src/data-visualizer/js/src/components/label.js","../src/data-visualizer/js/src/components/line.js","../src/data-visualizer/js/src/components/pi.js","../src/data-visualizer/js/src/components/tip.js","../src/data-visualizer/js/dataVisualizer.js"],"sourcesContent":["class Component {\n\tconstructor(dv,props) {\n\t\tif (!dv) {\n\t\t\treturn\n\t\t}\n\t\t\n\t\tthis.dv = dv;\n\n\t\tif(\n\t\t\ttypeof props === 'object'){\n\t\t\tfor (let key in props) {\n\t\t\t\tthis[key] = props[key];\n\t\t\t}\n\t\t}\n\t}\n\n\n\tdispose() {\n\t\tthis.dv = null;\n\t}\n}\n\nexport default Component;"," //sana 2d lang\nexport const Coordinates = ['x','y'];\n\n //kwan has scales domains and shit\nexport const DatumKeys = [0,1,'color','area'];\n\n\n\n/*****************************************************************************\n *DATA HELPEE\n*****************************************************************************/\n\n\n\n\n// kinkily get data but with aility to get down deep because we never know where the fuck the date will be at\n// @param obj : duh \n// @param keystring : hooman provided object key string that is hopefully correct \n// @param isNum : if the data is a number\n\n//kinkily merge defaults with custom\nexport const DeepValidate = (defaults,arr) => {\n\tconst args = defaults;\n\n\tObject.keys(arr).forEach((prop,i)=>{\n\t\t//ha?\n\t\tif(prop == 'key' || prop == 'reverse'){\n\t\t// if(Object.prototype.toString.call(arr[prop]) == '[object Object]'){\n\t\t\targs[prop] = DeepValidate(args[prop],arr[prop]);\n\n\t\t}else if(arr.hasOwnProperty.call(arr,prop)) {\n\t\t\t// Push each value from `obj` into `extended`\n\t\t\targs[prop] = arr[prop];\n\t\t}\n\t}); \n\n\treturn args;\n}\n\n//get the length attribute to associate with the axis bro\nexport const ToSide = (axisName,opposite) => {\n\treturn opposite\n\t? (\n\t\t(axisName == 'x')\n\t\t? 'height'\n\t\t: 'width'\n\t)\n\t: (\n\t\t(axisName == 'x')\n\t\t? 'width' \n\t\t: 'height'\n\t);\n}\n\nexport const ToOppoAxis = (axisName)=>{\n\treturn (axisName == 'x') ? 'y' : 'x';\n}\n\n//d3 does not support ie 11. kill it\nexport const VaildateBrowser = () => {\n\tconst ua = navigator.userAgent;\n\treturn ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1\n}\n\n//string helpers\nexport const Str = {\n\t// duh\n\t\tfileExtension: (str)=>{\n\t\t\treturn str.split('.').pop();\n\t\t},\n\n\t// convert boi to \n\t\thash: (str)=>{\n\t\t\tconst url = str;\n\t\t\tconst type = url.split('#');\n\t\t\tconst hash = type[ (type.length - 1 )] || '';\n\t\t\treturn hash;\n\t\t},\n\n\t// is dis json enough for u?\n\t\tIsValidJSONString: (str)=>{\n\t\t\ttry {\n\t\t\t\tJSON.parse(str);\n\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t//kemel\n\t\ttoCamelCase: (str)=>{\n\t\t\treturn str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word, index)=> {\n\t\t\t\treturn index == 0 ? word.toLowerCase() : word.toUpperCase();\n\t\t\t}).replace(/\\s+/g, '');\n\t\t},\n\n\t//duh\n\t\ttoCapitalize:(str)=>{\n\t\t\treturn str.charAt(0).toUpperCase() + str.slice(1)\n\t\t}\n}\n\nexport const ColorIsDark = (hexString)=>{\n\n\t// Variables for red, green, blue values\n\tlet r, g, b, hsp;\n\t\n\t// Check the format of the hexString, HEX or RGB?\n\tif(hexString.match(/^rgb/)) {\n\t\t// If HEX --> store the red, green, blue values in separate variables\n\t\thexString = hexString.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);\n\t\tr = hexString[1];\n\t\tg = hexString[2];\n\t\tb = hexString[3];\n\n\t} else {\n\t\t// If RGB --> Convert it to HEX: http://gist.github.com/983661\n\t\thexString = +(\"0x\" + hexString.slice(1).replace( \n\t\thexString.length < 5 && /./g, '$&$&'));\n\t\tr = hexString >> 16;\n\t\tg = hexString >> 8 & 255;\n\t\tb = hexString & 255;\n\t}\n\t\n\t// HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html\n\thsp = Math.sqrt(\n\t\t0.299 * (r * r)\n\t\t+ 0.587 * (g * g)\n\t\t+ 0.114 * (b * b)\n\t);\n\n\t// Using the HSP value, determine whether the hexString is light or dark\n\tif(hsp>170) { //127.5\n\t\treturn false;\n\n\t} else {\n\t\treturn true;\n\t}\n}\n\nexport const ValidMargin = (variable) => {\n\tif(typeof variable === 'number'){\n\t\treturn variable\n\t}\n}\n\nexport const GetNearest = (num)=>{\n\n\tif(num > 10){\n\t\treturn Math.pow(10, num.toString().length - 1) * 10;\n\n\t}else{\n\t\treturn 1;\n\t}\n\n};","import Component from '../util/template-component.js';\nimport {\n\tToSide,\n\tStr,\n} from 'src/util/helpers.js';\n\nclass Axis extends Component {\n\tconstructor(dv,axisName){\n\t\tsuper(dv,{\n\t\t\taxisName: axisName\n\t\t});\n\t}\n\n\tamount(isGrid){\n\t\tconst dv = this.dv;\n\t\tconst axisName = this.axisName;\n\n\t\tif(\n\t\t\tisGrid\n\t\t\t&& dv.args(`${axisName}TicksAmount`)\n\t\t){\n\t\t\treturn (\n\t\t\t\tdv.args(`${axisName}TicksAmount`)\n\t\t\t\t* dv.args(`${axisName}GridIncrement`)\n\t\t\t);\n\n\t\t} else {\n\t\t\treturn dv.args(`${axisName}TicksAmount`)\n\t\t}\n\t}\n\n\n\tvalues(){\n\t\tconst dv = this.dv;\n\t\tlet values = [],\n\t\t\tcurrVal = dv.domain(0)[0];\n\t\tdo{\n\t\t\tvalues.push(currVal);\n\t\t\tcurrVal *= 10;\n\n\t\t}while(currVal <= dv.domain(1).values);\n\n\t\treturn values;\n\t}\n\t\n\tgetCall(isGrid){\n\t\tisGrid = isGrid || false;\n\t\t\n\t\tconst dv = this.dv;\t\n\t\tconst axisName = this.axisName;\t\n\t\tconst d3AxisKey = 'Axis '+ dv.args(`${axisName}Align`);\n\n\t\tlet\ttoReturn = d3[\n\t\t\t\tStr.toCamelCase(d3AxisKey)\n\t\t\t](\n\t\t\t\tdv.scale(dv.args(`${this.axisName}Data`))\n\t\t\t)\n\t\t\t;\n\t\t\t\n\t\t\tif(\n\t\t\t\tdv._is_base('scatter')\n\t\t\t\t&& dv.args(`${axisName}Data`) == 0\n\t\t\t\t&& dv._name_is_num == true\n\t\t\t){\n\t\t\t\ttoReturn.tickValues( this.values() );\n\t\t\t}\n\n\t\t\tif(dv._has_axis_prop('ticksAmount',axisName)){\n\t\t\t\ttoReturn.ticks( this.amount(isGrid) );\n\t\t\t};\n\n\t\t\tif(isGrid){\n\t\t\t\ttoReturn\n\t\t\t\t\t.tickSize(dv.args(ToSide( axisName,true )) * -1)\n\t\t\t\t\t.tickFormat(\"\");\n\n\t\t\t}else {\n\t\t\t\ttoReturn\n\t\t\t\t\t.tickFormat((dis,i)=>{\n\t\t\t\t\t\treturn dv.format( dv.args(`${axisName}Data`) )(dis,i)\n\t\t\t\t\t})\n\t\t\t}\n\n\n\t\treturn toReturn;\n\t\t}\n}\n\nexport default Axis;","import Component from '../util/template-component.js';\nimport {\n\tToOppoAxis,\n\tToSide,\n} from 'src/util/helpers.js';\n\nclass Shape extends Component {\n\tconstructor(dv,dis,i){\n\t\tsuper(dv,{\n\t\t\tdis: dis,\n\t\t\ti:i\n\t\t})\n\t}\n\n\tdimension(axisName){\n\t\treturn this.dv.args(ToSide(axisName));\n\t}\n\t\n\tget tag (){\n\t\tconst dv = this.dv;\n\n\t\tswitch(dv.baseType){\n\t\t\tcase 'bar':\n\t\t\t\treturn 'rect';\n\t\t\tcase 'pie':\n\t\t\t\treturn 'path';\n\t\t\tcase 'line':\n\t\t\tcase 'scatter':\n\t\t\t\treturn 'circle';\n\t\t}\n\t}\n\n\tcoordAttr(axisName) {\n\t\tconst dv = this.dv;\n\n\t\treturn dv._is_base(['line','scatter'])\n\t\t\t? `c${axisName}`\n\t\t\t: `${axisName}`\n\t\t;\n\t}\n\n\tradius(initial){\n\t\tconst dv = this.dv;\n\t\tconst dis = this.dis;\n\t\tconst i = this.i;\n\n\t\tinitial = initial || false;\n\n\n\t\tlet radius = initial\n\t\t\t? 0\n\t\t\t: (\n\t\t\t\tdv._is_base('scatter')\n\t\t\t\t\t? (dv.args('areaMin') + dv.args('areaMax')) / 2\n\t\t\t\t\t: 5\n\t\t\t);\n\n\t\tif(!initial){\n\t\t\tif(dv._is_base('line')){\n\t\t\t\tif(\n\t\t\t\t\tdv._is_base('line')\n\t\t\t\t\t&& dv.args('linePointsSize')\n\t\t\t\t){\n\t\t\t\t\tradius = args.linePointsSize\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else if(\n\t\t\t\tdv._is_base('scatter')\n\t\t\t\t&& dv.args(`key['area']`)\n\t\t\t){\n\t\t\t\tradius = dv.scale( 'area', dv._get(dis,dv.args(`key['area']`),true) );\n\t\t\t}\n\t\t}\n\n\t\treturn radius;\n\t}\n\n\tscaledValue(keyKey){\n\t\tconst dv = this.dv;\n\t\tconst dis = this.dis;\n\n\t\tlet dataToScale;\n\t\t\n\t\tif(\n\t\t\tdv._name_is_num == true\n\t\t\t|| keyKey  == 1\n\t\t){\n\t\t\tdataToScale = dv._get(\n\t\t\t\tdis,\n\t\t\t\tdv.args(`key['${keyKey}']`),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}else{\n\t\t\tdataToScale = dv._get(\n\t\t\t\tdis,\n\t\t\t\tdv.args(`key['${keyKey}']`),\n\t\t\t\tfalse\n\t\t\t);\n\t\t}\n\n\t\treturn dv.scale(keyKey,dataToScale);\n\t}\n\n\tsize(coord,initial){\n\t\tinitial = initial || false;\n\t\tconst dv = this.dv;\n\t\tconst dis = this.dis;\n\t\tconst i = this.i;\n\n\n\t\tif(dv._is_base('pie')){\n\t\t\treturn; //go on pi. git. u have no bidnes herr\n\t\t}\n\n\t\tlet toReturn = 20;\n\n\t\tconst\n\t\t\tkeyKey  =  dv.args(`${coord}Data`),\n\t\t\toppoAlign = dv.args(`${ToOppoAxis(coord)}Align`);\n\n\t\tif(\n\t\t\tdv._name_is_num == true\n\t\t\t|| keyKey  == 1\n\t\t){\n\n\t\t\tif(initial) {\n\t\t\t\ttoReturn = 0;\n\t\t\t}else{\n\t\t\t\tif(\n\t\t\t\t\toppoAlign == 'right'\n\t\t\t\t\t|| oppoAlign == 'bottom'\n\t\t\t\t){\n\t\t\t\t\ttoReturn = this.dimension(coord)\n\t\t\t\t\t\t- this.scaledValue(keyKey);\n\n\t\t\t\t}else{\n\t\t\t\t\ttoReturn = this.scaledValue(keyKey);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else{\n\t\t\ttoReturn = dv.scale(keyKey).bandwidth()\n\t\t}\n\n\t\t//cant be a negaative bitch what the fuq\n\t\tif(toReturn < 0 ){\n\t\t\ttoReturn = 0;\n\t\t}\n\t\t\n\t\treturn toReturn;\n\n\t}\n\n\toffset(coord,initial){\n\t\tinitial = initial || false;\n\t\tconst dv = this.dv;\n\t\tconst dis = this.dis;\n\t\tconst i = this.i;\n\n\t\tif(dv._is_base('pie')){\n\t\t\treturn; //go on pi. git. u have no bidnes herr\n\t\t}\n\t\t// same here.. could be the same probably\n\t\tconst keyKey =  dv.args(`${coord}Data`),\n\t\t\toppoAlign = dv.args(`${ToOppoAxis(coord)}Align`);\n\n\t\tlet toReturn = 0;\n\t\t\t\n\t\tif(\n\t\t\tdv._name_is_num == true\n\t\t\t|| keyKey == 1\n\t\t){\n\t\t\tif(\n\t\t\t\toppoAlign == 'right'\n\t\t\t\t|| oppoAlign == 'bottom'\n\t\t\t){\n\t\t\t\tif(\n\t\t\t\t\tinitial\n\t\t\t\t\t&& keyKey == 1\n\t\t\t\t\t&& dv._is_base([\n\t\t\t\t\t\t'bar',\n\t\t\t\t\t\t'line'\n\t\t\t\t\t])\n\t\t\t\t){\n\t\t\t\t\ttoReturn = this.dimension(coord);\n\t\t\t\t}else{\n\t\t\t\t\ttoReturn = this.dimension(coord) - this.scaledValue(keyKey);\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t'offe',\n\t\t\t\t\t\tdis.name,\n\t\t\t\t\t\tcoord,\n\t\t\t\t\t\tthis.dimension(coord),\n\t\t\t\t\t\tthis.scaledValue(keyKey),\n\t\t\t\t\t\ttoReturn)\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tif(dv._is_base([\n\t\t\t\t\t'line',\n\t\t\t\t\t'scatter'\n\t\t\t\t])){\n\t\t\t\t\tif(!(\n\t\t\t\t\t\tinitial\n\t\t\t\t\t\t&& keyKey == 1\n\t\t\t\t\t\t&& dv._is_base('line')\n\t\t\t\t\t)){\n\t\t\t\t\t\ttoReturn = this.scaledValue(keyKey);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else{\n\t\t\ttoReturn = this.scaledValue(keyKey);\n\n\t\t\tif(\n\t\t\t\t(dv._is_base([\n\t\t\t\t\t'line',\n\t\t\t\t\t'scatter'\n\t\t\t\t]))\n\t\t\t\t&& !dv._name_is_num \n\t\t\t) {\n\t\t\t\ttoReturn += this.size(coord) / 2;\n\t\t\t}\n\t\t}\n\n\t\treturn toReturn;\n\t}\n}\n\nexport default Shape","\nimport Component from '../util/template-component.js';\nimport {\n\tToSide,\n} from 'src/util/helpers.js';\n\n\nconst OPTIMAL_LABEL_OFFSET_MULTIPLIER = .875;\n\nclass Label extends Component {\n\n\tconstructor(dv,axisName){\n\t\tsuper(dv,{\n\t\t\taxisName: axisName\n\t\t})\n\t}\n\n\toffset(coord){ \n\t\tlet offset = 0;\n\t\tconst dv = this.dv\n\t\tconst axisName = this.axisName;\n\t\t//x\n\t\t\tif(coord == 'x'){\n\t\t\t\tif(axisName == 'x'){\n\t\t\t\t\toffset = dv.args(ToSide(axisName)) / 2;\n\n\t\t\t\t}else if(axisName == 'y'){\n\t\t\t\t\toffset = -(dv.args(ToSide(axisName)) / 2)\n\t\t\t\t};\n\t\t//y\n\t\t\t}else{\n\t\t\t\tif(axisName == 'x'){\n\t\t\t\t\tif(dv.args(`${axisName}Align`) == 'bottom'){\n\t\t\t\t\t\toffset = dv.args(ToSide(axisName,true))\n\t\t\t\t\t\t+ (dv.margin.bottom * OPTIMAL_LABEL_OFFSET_MULTIPLIER);\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\toffset = -(dv.margin.top * OPTIMAL_LABEL_OFFSET_MULTIPLIER);\n\t\t\t\t\t}\n\t\t\t\t}else if(axisName == 'y'){\n\t\t\t\t\tif(dv.args(`${axisName}Align`) == 'right'){\n\t\t\t\t\t\toffset = dv.args(ToSide(axisName,true))\n\t\t\t\t\t\t\t+ (\n\t\t\t\t\t\t\t\t(dv.margin.right * OPTIMAL_LABEL_OFFSET_MULTIPLIER)\n\t\t\t\t\t\t\t\t+ dv.fontSize\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\toffset = -(\n\t\t\t\t\t\t\t(dv.margin.left * OPTIMAL_LABEL_OFFSET_MULTIPLIER)\n\t\t\t\t\t\t\t- dv.fontSize\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\treturn offset;\n\t}\n}\n\nexport default Label;","import Component from '../util/template-component.js';\nimport {\n\tToOppoAxis,\n\tToSide,\n} from 'src/util/helpers.js';\n\n\nclass Line extends Component {\n\tconstructor(dv,data){\n\t\tsuper(dv,{\n\t\t\tdata: data,\n\t\t})\n\t}\n\tget axisToFill(){\n\t\treturn ( this.dv.args('xData') == 0 ) ? 'x' : 'y'; //fill to where name data is at\n\t}\n\n\tget style(){\n\n\t\tlet theString;\n\t\tswitch(this.dv.args('lineStyle')){\n\t\t\tcase 'step':\n\t\t\t\ttheString = 'curveStepBefore'\n\t\t\t\tbreak;\n\t\t\tcase 'curve':\n\t\t\t\ttheString = 'curveMonotone'+(this.axisToFill).toUpperCase()\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\ttheString = 'curveLinear'\n\t\t\t\tbreak;\n\t\t}\n\t\treturn theString\n\t}\n\n\tpath(isArea,initial){\n\t\tif(!this.data){\n\t\t\treturn\n\t\t}\n\n\t\tinitial = initial || false;\n\n\t\tconst dv = this.dv;\n\t\tconst i = this.i;\n\t\tconst d3PathType = isArea ? 'area' : 'line';\n\n\t\tconst path = d3[d3PathType]();\n\n\t\tif(d3PathType == 'area') {\n\n\t\t\t//name coord, value coord, fill coordinate\n\t\t\tconst aCord = { //default is top\n\t\t\t\tname: this.axisToFill, //x\n\t\t\t\tvalue: `${ToOppoAxis(this.axisToFill)}1`, //y\n\t\t\t\tfill: `${ToOppoAxis(this.axisToFill)}0` //initial of data name is the bottom of the fill\n\t\t\t};\n\t\t\t\n\t\t\tpath\n\t\t\t\t[aCord.name]((dis,i)=>{\n\t\t\t\t\treturn dv.Shape(dis,i).offset(this.axisToFill,initial); \n\t\t\t\t})\n\t\t\t\t[aCord.value]((dis,i)=>{\n\t\t\t\t\treturn dv.Shape(dis,i).offset(ToOppoAxis(this.axisToFill),initial);\n\t\t\t\t})\n\t\t\t\t[aCord.fill]((dis,i)=>{\n\t\t\t\t\treturn (\n\t\t\t\t\t\tdv.args(`${this.axisToFill}Align`)  == 'bottom'\n\t\t\t\t\t\t|| dv.args(`${this.axisToFill}Align`)  == 'right'\n\t\t\t\t\t)\n\t\t\t\t\t\t? dv.args(ToSide(this.axisToFill))\n\t\t\t\t\t\t: 0;\n\t\t\t\t});\n\n\t\t}else{\n\t\t\tpath\n\t\t\t\t.x((dis,i)=>{\n\t\t\t\t\treturn dv.Shape(dis,i).offset('x',initial);\n\t\t\t\t})\n\t\t\t\t.y((dis,i)=>{\n\t\t\t\t\treturn dv.Shape(dis,i).offset('y',initial);\n\t\t\t\t});\n\n\t\t}\n\t\t\n\t\tpath.curve(d3[this.style]);\n\n\t\treturn path(this.data);\n\t}\n}\n\nexport default Line;","import Component from '../util/template-component.js';\nimport {\n\tToSide\n} from 'src/util/helpers.js';\n\n\nconst OPTIMAL_PI_MULTIPLIER = .5;\nconst OPTIMAL_PI_LEGENDARY_MULTIPLIER = .375;\n\nclass Pi extends Component {\n\tconstructor(dv,dis,i){\n\t\tsuper(dv,{\n\t\t\tdis: dis,\n\t\t\ti:i\n\t\t})\n\t}\n\n\n\tget radius(){\n\t\tconst dv = this.dv;\n\n\t\tlet value = Math.min((dv.args('width') * .5),(dv.args('height') * .5));\n\n\t\tif(dv.args(`colorLegend`)){\n\t\t\tvalue -= (value * .25)\n\t\t}\n\t\t\n\t\tif( dv.args(`piLabelStyle`) == 'linked' ){\n\t\t\tvalue -= (value * .25)\n\t\t}\n\n\t\treturn value;\n\t}\n\n\toffset(coord){\n\t\tconst dv = this.dv;\n\n\t\tlet offset = 0;\n\n\t\tif(dv.args('colorLegend') && coord =='x'){\n\t\t\toffset = (dv.args(ToSide(coord)) * OPTIMAL_PI_LEGENDARY_MULTIPLIER);\n\n\t\t}else{\n\t\t\toffset = (dv.args(ToSide(coord)) * OPTIMAL_PI_MULTIPLIER);\n\t\t}\n\n\t\treturn offset;\n\t}\n\n\tpath (calcWithInnerRadius,subMethod,offsetMultiplier,initial){\n\n\t\tconst disPi = this.dis.pie;\n\t\tif(!disPi){\n\t\t\treturn;\n\t\t}\n\n\t\t//@TODO ha??\n\t\tconst dv = this.dv;\n\t\toffsetMultiplier = offsetMultiplier || 1;\n\t\tsubMethod = subMethod || '';\n\t\tcalcWithInnerRadius = calcWithInnerRadius || false;\n\t\tinitial = initial || false;\n\n\t\tconst\n\t\t\tinnerRadius = \n\t\t\t\tcalcWithInnerRadius\n\t\t\t\t\t? this.radius * dv.args(`piInRadius`)\n\t\t\t\t\t: 0\n\t\t\t;\n\n\t\tconst outerRadius = (\n\t\t\t!initial\n\t\t\t|| (\n\t\t\t\tinitial\n\t\t\t\t&& (offsetMultiplier <=1 )\n\t\t\t)\n\t\t\t&& calcWithInnerRadius == false\n\t\t) \n\t\t\t? this.radius * offsetMultiplier\n\t\t\t: 0\n\t\t\t;\n\n\t\tconst arc = d3.arc()\n\t\t\t.outerRadius( outerRadius )\n\t\t\t.innerRadius( innerRadius );\n\n\t\t\n\t\tif(subMethod){\n\t\t\treturn arc[subMethod](disPi);\n\n\t\t}else{\n\t\t\treturn arc(disPi)\n\t\t}\n\n\t}\n}\n\nexport default Pi;","\nimport Component from '../util/template-component.js';\n\nclass Tip extends Component {\n\n\tconstructor(dv,classToAdd){\n\t\tsuper(dv,{\n\t\t\tclassToAdd: classToAdd\n\t\t});\n\t}\n\t\n\n\t\n\tget html(){\n\t\tconst dv = this.dv;\n\t\treturn dv.args('tooltipContent') || Tip.default;\n\t}\n\n\tgetCall(){\n\t\tconst tt = this;\n\t\tconst dv = this.dv;\n\t\treturn d3.tip()\n\t\t\t.attr('class',`${tt.classToAdd}`)\n\t\t\t.style('width', () => {\n\t\t\t\tif(typeof dv.args('tooltipWidth') === 'number'){\n\t\t\t\t\treturn `${dv.args('tooltipWidth')}px`;\n\t\t\t\t}else if(dv.args('tooltipWidth') == 'auto'){\n\t\t\t\t\treturn dv.args('tooltipWidth');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.style('text-align',dv.args('tooltipTextAlign'))\n\t\t\t.direction(dv.args('tooltipDirectionParameter') || dv.args('tooltipDirection'))\n\t\t\t.html(Tip.html)\n\t}\n\n\tshow(){\n\t\t\n\t}\n\n\tdefault(dis,i) {\n\t\tconst dv = this.dv;\n\t\tconst html = `<div class=\"${dv.createClass('tooltip-data')}\">`;\n\n\t\tfor (let prop in dis) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(dis, prop)) {\n\t\t\t\tconst propIsOutputted = false;\n\t\t\t\tif(typeof dis[prop] !== 'object'){\n\n\t\t\t\t\n\t\t\t\t\thtml += `<div class=\"${dv.createClass('tooltip-data-property')}\">`;\n\n\t\t\t\t\t\t// label\n\t\t\t\t\t\tif(dv.args('srcType') !== 'row'){\n\t\t\t\t\t\t\thtml += `<strong class=\"${dv.createClass('tooltip-data-property-label')}\">${prop}:</strong> `;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\n\t\t\t\t\t\tDatumKeys.forEach((keyKey)=>{\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\tdv.args(`key['${keyKey}']`)\n\t\t\t\t\t\t\t\t&& dv.args(`key['${keyKey}']`).lastIndexOf(prop)  > -1\n\t\t\t\t\t\t\t\t&& dv.format(keyKey)\n\t\t\t\t\t\t\t\t&& propIsOutputted == false\n\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\thtml += `<span class=\"${dv.createClass('tooltip-data-property-content')}\">${dv.format(keyKey)(dv._get(dis,dv.args(`key['${keyKey}' ]`)) )} </span>`;\n\t\t\t\t\t\t\t\tpropIsOutputted = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(propIsOutputted == false) {\n\n\t\t\t\t\t\t\t// content\n\t\t\t\t\t\t\thtml += `<span class=\"${dv.createClass('tooltip-data-property-content')}\">${dis[prop]}</span>`;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\thtml += '</div>';\n\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\n\t\thtml += '</div>';\n\t\treturn html;\n\t}\n}\n\nexport default Tip;","import Axis from 'src/components/axis.js';\nimport Shape from 'src/components/shape.js';\nimport Label from 'src/components/label.js';\nimport Line from 'src/components/line.js';\nimport Pi from 'src/components/pi.js';\nimport Ticks from 'src/components/ticks.js';\nimport Tip from 'src/components/tip.js';\nimport {\n\tCoordinates,\n\tDatumKeys,\n\tDeepValidate,\n\tGetNearest,\n\tToSide,\n\tToOppoAxis,\n\tVaildateBrowser,\n\tStr,\n\tColorIsDark,\n\tValidMargin\n} from 'src/util/helpers.js';\n/*!\n* 1point21 Data Vizualiser Version 1.2.1\n* Render Script\n* @license yes\n* DO NOT EDIT min.js\n* edit its corresponding unminified js file in /src instead\n*/\n\n/* DO NOT TOUCH I DEV ON THIS BOI I ENQUEUE THE MINIFIED ONE ANYWAY  :< */\n\n/*\n\nTODO:\npie does not display a wHOLE PIE\nduisplay types for multiple\n- compare\n- slider\n- overlap\n- one\n*/\n\n/*****************************************************************************\n * ATTR ABD SHIT DEFINITIONS\n*****************************************************************************/\n\nconst\n\t//yeeee\n\tPREFIX = 'dv',\n\n\t//for calculating the height and offset for spacing on text elements by the Shape items vertically. value is sum of both sides\n\tTEXT_PADDING = 2.25,\n\n\tBASE_TYPES = ['bar','pie','line','scatter']\n\t;\n\n\nconst\n\tCLASS_READY = `${PREFIX}-initialized`,\n\tCLASS_ERROR = `${PREFIX}-fatality`,\n\n\tCLASS_HEADER = `${PREFIX}-heading`,\n\t\tCLASS_TITLE = `${PREFIX}-title`,\n\t\tCLASS_DESCRIPTION = `${PREFIX}-description`,\n\n\tCLASS_BODY = `${PREFIX}-body`,\n\t\tCLASS_SVG = `${PREFIX}-svg`,\n\t\tCLASS_G_CONTAINER = `${PREFIX}-container`,\n\t\t\tCLASS_LABELS = `${PREFIX}-labels`,\n\t\t\t\tCLASS_LABEL_PREFIX = `${PREFIX}-label`,\n\t\t\tCLASS_RULERS = `${PREFIX}-rulers`,\n\t\t\t\tCLASS_RULER_PREFIX = `${PREFIX}-rule`,\n\t\t\t\tCLASS_RULER_ALIGN_PREFIX = `${CLASS_RULER_PREFIX}-align`,\n\t\t\tCLASS_GRIDS = `${PREFIX}-grid`,\n\t\t\t\tCLASS_GRID_PREFIX = `${CLASS_GRIDS}-col`,\n\t\t\t\tCLASS_GRID_INC_PREFIX = `${CLASS_GRID_PREFIX}-increment`,\n\t\t\tCLASS_GRAPH = `${PREFIX}-graph`,\n\t\t\tCLASS_LINE_GRAPH = `${PREFIX}-line`,\n\t\t\t\tCLASS_ITEM = `${CLASS_GRAPH}-item`,\n\t\t\t\tCLASS_ITEM_BLOB = `${CLASS_ITEM}-shape`,\n\t\t\t\tCLASS_ITEM_STAMP = `${CLASS_ITEM}-text`,\n\t\t\t\tCLASS_POLYLINE = `${CLASS_ITEM}-link`,\n\t\t\tCLASS_LINE_FILL = `${CLASS_LINE_GRAPH}-fill`,\n\t\t\tCLASS_TEXTS = `${PREFIX}-text`,\n\n\t\tCLASS_CURSOR_STALKER = `${PREFIX}-cursor-stalker`,\n\t\tCLASS_TOOLTIP = `${PREFIX}-tooltip`,\n\n\n\n\n\tOPTIMAL_DEFAULT_DATA_COUNT = 9,\n\tOPTIMAL_SCALE_LOG_CONST = 10;\n;\n\n\n/*****************************************************************************\n * MAIN BITCH STARTS HERE\n*****************************************************************************/\n\nclass DataVisualizer {\n\tconstructor(selector,settings){\n\t\tif(!window.d3){\n\t\t\treturn false;\n\t\t}\n\t\tconst dv = this;\n\n\t\tdv.selector = selector;\n\t\tdv.elem = document.querySelector(selector);\n\n\t\tif(VaildateBrowser()){\n\t\t\tconst error =  document.createElement('div');\n\n\t\t\terror.className = `${CLASS_BODY} ${CLASS_ERROR}`;\n\t\t\terror.innerHTML = 'Sorry, this graphic needs D3 to render the data but your browser does not support it.<br><br> Newer versions of Chrome, Edge, Firefox and Safari are recommended. <br><br>See <em><a target=\"_blank\" rel=\"nofollow\" href=\"https://d3-wiki.readthedocs.io/zh_CN/master/Home/#browser-platform-support\">the official wiki</a></em> for more information';\n\n\t\t\tdv.elem.appendChild(error);\n\t\t\tthrow new Error('D3 not supported by browser');\n\t\t}\n\n\t\t// fallback + validate color data\n\t\t// if color data key aint set put in name\n\n\t\tif(!dv._get(settings,'key.color')){ \n\t\t\tsettings.key.color = settings.key[0];\n\n\t\t\t//if legend was not fucked with we take the authority to kill legend\n\t\t\tif(!settings.colorLegend){\n\t\t\t\tsettings.colorLegend = false;\n\t\t\t}\n\t\t};\n\t\t//valisate arwea key i guess\n\t\t// if(!dv._get(settings,'key.area')){\n\t\t// \tsettings.key.area\n\t\t// }\n\n\t\tdv.#inpSet = settings;\n\n\t\tdv.isLoaded = false;\n\n\t\tdv.resizeInt = null;\n\n\t\tdv.load();\n\t\t\n\t}\n\n\tUiEl(elem){\n\t\tif(elem){\n\t\t\tthis._resetUiEl(elem);\n\t\t}\n\t\treturn this.elem;\n\t}\n\n\t_resetUiEl(elem){\n\t\tif(elem){\n\t\t\tthis.elem = elem\n\t\t}else{\n\t\t\tthrow new Error('Needs a valid element to reset component UI root element');\n\t\t}\n\t}\n\n/*****************************************************************************\n * MAIN BITCH STARTS HERE\n*****************************************************************************/\n\n\t#inpSet = false\n\n\t#data = {\n\t\tdisplayed: false,\n\t\tcomplete: false\n\t}\n\n\n\tget #is_debuggy(){\n\t\treturn document.body.classList.contains('logged-in');;\n\t}\n\n\tstatic #deepGet(obj,stringedKeys, isNum){\n\t\t\n\t\tisNum = isNum || false;\n\n\t\tif(!stringedKeys){\n\t\t\treturn\n\t\t}\n\n\t\tlet splitString = stringedKeys.toString()\n\t\t\t.replace(/('|\"|\\s|\\t|\\n|\\r)/g,'') //quotes and spaces\n\t\t\t.replace(/\\[(.+?)\\]/,'.$1') //brackets\n\t\t\t.split('.') //split\n\t\t\t;\n\n\t\t\t//remove mt\n\t\tsplitString\n\t\t\t.forEach((key,i)=>{\n\t\t\t\t(key == '') && splitString.splice(i, 1);\n\t\t\t})\n\t\t\t;\n\n\t\tconst\n\t\t\tmultiIndex = (obj,is) => {\n\t\t\t\tvar toReturn = null;\n\t\t\t\t// console.warn('init multi',obj,is,typeof obj);\n\t\t\t\tif(is.length > 0 && typeof obj === 'object'){ //if it gooes 0 u ded\n\t\t\t\t\ttoReturn = multiIndex(obj[is[0]], is.slice(1));\n\t\t\t\t}else{\n\t\t\t\t\ttoReturn = ( isNum == true ) ? parseFloat(obj) : obj;\n\t\t\t\t}\n\t\t\t\treturn toReturn;\n\t\t\t},\n\t\n\t\t\tvalue = multiIndex(obj,splitString);\n\t\t\n\t\tif(isNum == true && isNaN(value)){\n\t\t\tconsole.warn(`data with the key source of '${stringedKeys}' was passed as numeric but is not.` )\n\t\t}\n\t\t// console.log(`%c final value to return from ${stringedKeys}: \\n${value}`,\"color: pink; font-family:sans-serif; font-size: 9px\");\n\t\n\t\treturn value;\n\t}\n\n\t_get(obj,stringedKeys,isNum){\n\t\treturn DataVisualizer.#deepGet(obj,stringedKeys,isNum);\n\t}\n\t\n\t_is_base(types){\n\t\tlet templates = [];\n\n\t\tif(typeof types === 'string'){\n\t\t\ttemplates.push(types)\n\t\t}else if(Array.isArray(types)){\n\t\t\ttypes.forEach(type=>{\n\t\t\t\ttemplates.push(type)\n\t\t\t});\n\t\t}\n\n\t\tlet toReturn = false;\n\n\t\ttemplates.forEach(template=>{\n\t\t\tif(this.args('type').includes(`${template}`) && !toReturn){\n\t\t\t\ttoReturn = true;\n\t\t\t}\n\t\t});\n\n\t\treturn toReturn;\n\t}\n\n\tget _has_nested_data(){\n\t\treturn !(\n\t\t\t( this.args('srcMultiple') && this._is_base('pie') )\n\t\t)\n\t};\n\n\tget _name_is_num(){\n\t\treturn this.args('nameIsNum')\n\t}\n\n\tget _has_text(){\n\n\t\tif(\n\t\t\t!this.args('toolTip')\n\t\t\t&& (\n\t\t\t\t(\n\t\t\t\t\tthis._is_base(['bar','line'])\n\t\t\t\t\t&& (\n\t\t\t\t\t\t!this.args('xTicks')\n\t\t\t\t\t\t|| !this.args('yTicks')\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t|| (\n\t\t\t\t\tthis._is_base('pie')\n\t\t\t\t\t&& (\n\t\t\t\t\t\tthis.args('piLabelStyle')\n\t\t\t\t\t\t|| !this.args('colorLegend')\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t)\n\t\t){\n\t\t\treturn true;\n\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\n\t}\n\n\tget _has_both_text() {\n\n\t\tif(\n\t\t\tthis._has_text\n\t\t\t&& (\n\t\t\t\t(\n\t\t\t\t\tthis._is_base(['bar','line','scatter'])\n\t\t\t\t\t&& (\n\t\t\t\t\t\t!this.args('xTicks')\n\t\t\t\t\t\t&& !this.args('yTicks')\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t|| (\n\t\t\t\t\tthis._is_base('pie')\n\t\t\t\t\t&& !this.args('colorLegend')\n\t\t\t\t\t&& this.args('piLabelStyle') !== null\n\t\t\t\t)\n\t\t\t)\n\t\t){\n\t\t\treturn true;\n\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\n\t}\n\n\tget _has_polyline(){\n\t\treturn (\n\t\t\tthis._is_base('pie') && this.args('piLabelStyle') == 'linked'\n\t\t);\n\t}\n\n\tget _has_tooltip(){\n\t\treturn this.args('tooltipEnable');\n\t}\n\n\t_has_grid(axisName){\n\t\treturn this._has_ticks(axisName) && this._has_axis_prop('grid',axisName);\n\t}\n\n\t_has_labels(axisName){\n\t\treturn  this._has_ticks(axisName) && this._has_axis_prop('label',axisName);\n\t}\n\n\t_has_ticks(axisName){\n\t\treturn this._has_axis_prop('ticks',axisName);\n\t}\n\n\t_has_axis_prop(property,axisName){\n\t\tif(property && !this._is_base('pie')){\n\t\t\tif(axisName){\n\t\t\t\treturn this.args( Str.toCamelCase(`${axisName} ${property}`) );\n\t\t\t}else{\n\t\t\t\treturn this.args(  Str.toCamelCase(`x ${property}`)  ) || this.args(  Str.toCamelCase(`y ${property}`)  )\n\t\t\t}\n\t\t}\n\t}\n\n\t#renderAG(classToAdd){\n\t\tconst dv = this;\n\t\tdv.g\n\t\t\t.append('g')\n\t\t\t.attr('class',classToAdd);\n\t}\n\n\t#parseData(dataToParse){\n\t\tconst dv = this;\n\t\t// heck if src key exists\n\t\tlet toReturn;\n\t\t\n\t\tif (dv.args('srcKey')) {\n\t\t\tif(dv._get(dataToParse,dv.args('srcKey'))){\n\t\t\t\ttoReturn = dv._get(dataToParse,dv.args('srcKey'));\n\t\t\t}else{\n\t\t\t\trenderError(`${dv.selector} provided source key is invalid`);\n\t\t\t}\n\n\t\t}else{\n\t\t\ttoReturn = dataToParse\n\t\t}\n\n\t\t// convert to single level for easy AAAAAAAAA-ing\n\t\tif(dv.args('srcMultiple') == true && dv.args('srcPreNest')) {\n\n\t\t\t\tconst arrPreNest = [],\n\t\t\t\t\tappendParentProp = (parentKey)=>{\n\t\t\t\t\t//add parent key to proops\n\t\t\t\t\ttoReturn[parentKey].forEach(function(dis,i){\n\t\t\t\t\t\ttoReturn[parentKey][i]._parent = parentKey;\n\t\t\t\t\t\tarrPreNest.push(toReturn[parentKey][i]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t//if they are array\n\t\t\t\tif(Object.prototype.toString.call(toReturn) === '[object Array]'){\n\n\t\t\t\t\ttoReturn.forEach((par,key)=>{\n\t\t\t\t\t\tappendParentProp(key);\n\t\t\t\t\t})\n\n\t\t\t\t//if they are kwan have keys\n\t\t\t\t}else{\n\t\t\t\t\tObject.keys(toReturn).forEach((key)=>{\n\t\t\t\t\t\t//add parent key to proops\n\t\t\t\t\t\tappendParentProp(key);\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\ttoReturn = arrPreNest;\n\t\t}\n\n\t\t\n\t\t//filter data that has null value\n\t\ttoReturn = toReturn.filter((dis,i)=>{\n\n\t\t\tlet toInclude = true;\n\n\t\t\tDatumKeys.forEach((keyKey)=>{\n\t\t\t\tconst setKey = dv.args(`key['${keyKey}']`);\n\t\t\t\tif(setKey && dv._get(dis,setKey) == null) {\n\t\t\t\t\ttoInclude = false;\n\t\t\t\t\tif(dv.#is_debuggy){\n\t\t\t\t\t\tconst humanForKey = keyKey == 0 ? 'name': keyKey == 1 ? 'value': keyKey;\n\t\t\t\t\t\tconsole.warn(`${dv.selector} datum index '${i}' was filtered.\\ndatum does not have data for the key '${setKey}', which is set as the property for '${humanForKey}'`)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(toInclude){\n\t\t\t\treturn dis;\n\t\t\t}\n\n\t\t});\n\t\n\t\t//sort data 0 so that it doesnt go forward then backward then forward on the graph which is weird\n\t\tif(dv.args('nameIsNum') == true){\n\t\t\t\n\t\t\tconst sortable = [];\n\n\t\t\tfor(let i = 0 ;i < toReturn.length; i++){\n\t\t\t\tif(toReturn[i]){\n\t\t\t\t\tsortable.push(toReturn[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tsortable.sort((a, b)=>{\n\t\t\t\treturn dv._get(a,dv.args('key.0'),true) - dv._get(b,dv.args('key.0'),true);\n\t\t\t});\n\n\t\t\ttoReturn = sortable;\n\t\t}\n\n\n\t\tif(!toReturn.length){\n\t\t\tdv.kill(`Data for ${dv.selector} was filtered and all items are invalid for visualizing. check provided data keys and make sure they are correct`)\n\t\t}\n\n\t\treturn toReturn;\n\t}\n\n\tget drawnData(){\n\t\treturn this.#data.displayed.length\n\t\t\t? this.#data.displayed\n\t\t\t: this.#data.complete;\n\t}\n\n\tset drawnData(data){\n\t\tthis.#data.displayed = data;\n\t}\n\n\tget completeData(){\n\t\treturn this.#data.complete;\n\t}\n\n\tset completeData(data){\n\t\tthis.#data.complete = data;\n\t}\n\n\tstatic defaults(key){\n\t\tkey = key || false;\n\n\t\tconst settings = {\n\t\t\t//settings\n\t\t\t\twidth: 600,\n\t\t\t\theight:600,\n\t\t\t\tmargin: 40, \n\t\t\t\ttransition: 500,\n\t\t\t\tdelay: 250,\n\t\t\t\tfontSize: '16px',\n\n\t\t\t// content\n\t\t\t\ttitle:'',\n\t\t\t\tdescription:'',\n\n\t\t\t//src\n\t\t\t\tsrcType: '',\n\t\t\t\tsrcPath: '',\n\t\t\t\tsrcKey: null,\n\t\t\t\tsrcMultiple: false,\n\t\t\t\tsrcPreNest: false,\n\n\t\t\t//text\n\t\t\t\ttextNameSize: .75,\n\t\t\t\ttextValueSize: 1.25,\n\t\t\t\ttextTicksSize: .75,\n\t\t\t\ttextLegendSize: .75,\n\n\t\t\t// fields\n\t\t\t\ttype: 'bar',\n\t\t\t\tnameIsNum: false,\n\n\t\t\t//keys\n\t\t\t\tkey: {\n\t\t\t\t\tmultiple: '_parent',\n\t\t\t\t\t0:0,\n\t\t\t\t\t1: 1,\n\t\t\t\t\tcolor: null,\n\t\t\t\t\tarea: null,\n\t\t\t\t},\n\n\t\t\t//reverse\n\t\t\t\treverse: {\n\t\t\t\t\t0: false,\n\t\t\t\t\t1: false,\n\t\t\t\t\tcolor: false,\n\t\t\t\t\tmultiple: false,\n\t\t\t\t\tarea:false,\n\t\t\t\t},\n\n\t\t\t//format\n\t\t\t\t// name\n\t\t\t\t\tformat0Prepend: '',\n\t\t\t\t\tformat0Append: '',\n\t\t\t\t\tformat0Parameter: null,\n\t\t\t\t\tformat0Divider: 1, //@TODO deprecate\n\t\t\t\t// value\n\t\t\t\t\tformat1Prepend: '',\n\t\t\t\t\tformat1Append: '',\n\t\t\t\t\tformat1Parameter: null,\n\t\t\t\t\tformat1Divider: 1, //@TODO deprecate\n\t\t\t\t// color\n\t\t\t\t\tformatColorPrepend: '',\n\t\t\t\t\tformatColorAppend: '',\n\t\t\t\t\tformatColorParameter: null,\n\n\t\t\t//scatterplot area\n\t\t\t\tareaMin: 10,\n\t\t\t\tareaMax: 20,\n\t\t\t\tareaOpacity: .8,\n\n\t\t\t//kulay\n\t\t\t\tcolorBackground: '#eee',\n\t\t\t\tcolorPalette : [],\n\t\t\t\tcolorData: null,\n\t\t\t\tcolorLegend: false,\n\n\t\t\t//x settings\n\t\t\t\txData: 0,\n\t\t\t\txAlign: 'bottom',\n\t\t\t\txTicks: false,\n\t\t\t\txLabel: null,\n\t\t\t\txTicksAmount: null,\n\t\t\t\txParameter: null,\n\t\t\t\txMin: null,\n\t\t\t\txMax: null,\n\t\t\t\txGrid: false,\n\t\t\t\txGridIncrement: 1,\n\t\t\t\txPrepend: '',\n\t\t\t\txAppend: '',\n\t\t\t\txDivider: 1,\n\n\t\t\t//y settings\n\t\t\t\tyData: 1,\n\t\t\t\tyAlign: 'left',\n\t\t\t\tyTicks: false,\n\t\t\t\tyLabel: null,\n\t\t\t\tyTicksAmount: null,\n\t\t\t\tyParameter: null,\n\t\t\t\tyMin: null,\n\t\t\t\tyMax: null,\n\t\t\t\tyGrid: false,\n\t\t\t\tyGridIncrement: 1,\n\t\t\t\tyPrepend: '',\n\t\t\t\tyAppend: '',\n\t\t\t\tyDivider: 1,\n\n\t\t\t//bar\n\t\t\t\tbarTextWithin: false,\n\t\t\t\tbarGutter: .1,\n\n\t\t\t//line\n\t\t\t\tlineStyle: '',\n\t\t\t\tlineWeight: 1,\n\t\t\t\tlineColor: null,\n\t\t\t\tlinePoints: false,\n\t\t\t\tlineFill: false,\n\t\t\t\tlinePointsColor: null,\n\t\t\t\tlinePointsSize: null,\n\t\t\t\tlineFillColor: null,\n\t\t\t\tlineFillInvert: false,\n\t\t\t\tlineFillOpacity: .5,\n\t\t\t\tlineDash: [100,0],\n\n\t\t\t//pi\n\t\t\t\tpiLabelStyle: 'within',\n\t\t\t\tpiInRadius: 0,\n\n\t\t\t//tooltip\n\t\t\t\ttooltipEnable: false,\n\t\t\t\ttooltipTextAlign: 'left',\n\t\t\t\ttooltipWidth: 'auto',\n\t\t\t\ttooltipDirection: 'n',\n\t\t\t\ttooltipDirectionParameter: null,\n\t\t\t\ttooltipContent: null,\n\n\t\t\t//2.0.0 new this.args. not implemented yet\n\t\t\t\t// multiple\n\t\t\t\t\tmultipleDisplay: 'overlay', // single,versus,overlap\n\t\t\t\t//kulay\n\t\t\t\t\tcolorBy: 'key', //set will influence key.color\n\t\t\t\t//advanced\n\t\t\t\t\tcolorScheme: null,\n\t\t}\n\n\t\treturn key\n\t\t\t? DataVisualizer.#deepGet(settings,key)\n\t\t\t: settings;\n\t}\n\n\targs(key){\n\t\tkey = key || false;\n\t\tconst settings = DeepValidate(DataVisualizer.defaults(),this.#inpSet);\n\t\t\n\t\treturn key\n\t\t\t? DataVisualizer.#deepGet(settings,key)\n\t\t\t: settings;\n\t}\n\n\tget baseType(){\n\t\tconst dv = this;\n\t\tlet toReturn;\n\n\t\tBASE_TYPES.forEach(type=>{\n\t\t\tif(dv._is_base(type) && !toReturn){\n\t\t\t\ttoReturn = type;\n\t\t\t}\n\t\t})\n\n\t\treturn toReturn;\n\t}\n\n\tget fontSize(){\n\t\treturn parseFloat(this.args('fontSize'));\n\t}\n\n\tget legendSize(){\n\t\treturn this.args('textLegendSize') * this.fontSize * 2;\n\t}\n\t\n\tget margin(){\n\t\tconst dv = this;\n\n\t\treturn {\n\t\t\ttop:\t\n\t\t\t\tValidMargin(dv.args('margin[0]'))\n\t\t\t\t|| ValidMargin(dv.args('margin'))\n\t\t\t\t|| 0,\n\t\t\tright: \t\n\t\t\t\tValidMargin(dv.args('margin[1]'))\n\t\t\t\t|| ValidMargin(dv.args('margin[0]'))\n\t\t\t\t|| ValidMargin(dv.args('margin'))\n\t\t\t\t|| 0,\n\t\t\tbottom:\t\n\t\t\t\tValidMargin(dv.args('margin[2]'))\n\t\t\t\t|| ValidMargin(dv.args('margin[0]'))\n\t\t\t\t|| ValidMargin(dv.args('margin'))\n\t\t\t\t|| 0,\n\t\t\tleft:\t\n\t\t\t\tValidMargin(dv.args('margin[3]'))\n\t\t\t\t|| ValidMargin(dv.args('margin[1]'))\n\t\t\t\t|| ValidMargin(dv.args('margin[0]'))\n\t\t\t\t|| ValidMargin(dv.args('margin'))\n\t\t\t\t|| 0,\n\t\t}\n\t}\n\n\touter(dimension){\n\t\tlet margins = [];\n\n\t\tif(dimension == 'width'){\n\t\t\tmargins = ['left','right']\n\t\t}else{\n\t\t\tmargins = ['top','bottom']\n\t\t}\n\n\t\treturn this.args(dimension) + this.margin[ margins[0] ] + this.margin[ margins[1] ]\n\t}\n\n\tget outerWidth(){\n\t\treturn this.outer('width');\n\t}\n\n\tget outerHeight(){\n\t\treturn this.outer('height');\n\t}\n\n\tget duration(){\n\t\tif(!this.__trans){\n\t\t\tthis.__trans = d3.transition()\n\t\t\t.duration( this.args('transition') )\n\t\t\t.ease(d3.easeLinear)\n\t\t\t;\n\t\t}\n\t\treturn this.__trans;\n\t\t\n\t}\n\n\tinterpolate(start,end,fn,d3fn){\n\t\tfn = fn || ((value,start,end)=>{ return value; });\n\t\td3fn = d3fn || 'interpolate';\n\n\t\tconst i = d3[d3fn](start,end);\n\n\t\treturn ((t)=>{\n\t\t\tconst interVal = i(t);\n\t\t\treturn fn(interVal,start,end);\n\t\t})\n\t}\n\n\tcreateClass(classFallback,classForTrue,trueLogic,hasPrefix){\n\t\tclassFallback = classFallback || '';\n\t\tclassForTrue = classForTrue || false;\n\t\ttrueLogic = trueLogic != false || trueLogic == true;\n\t\thasPrefix = hasPrefix != false || hasPrefix == true;\n\n\t\treturn `${(\n\t\t\thasPrefix\n\t\t\t\t? `${PREFIX}-`\n\t\t\t\t: ''\n\t\t)}${(\n\t\t\t(trueLogic)\n\t\t\t\t? classForTrue\n\t\t\t\t: classFallback \n\t\t)}`;\n\t}\n\n\taxisName(keyKey){\n\t\tconst dv = this;\n\t\tif (keyKey == 0 || keyKey == 1){\n\t\t\treturn (dv.args('xData') == keyKey) ? 'x' : 'y';\n\t\t}else{\n\t\t\treturn keyKey;\n\t\t}\n\t}\n\n\trange(keyKey){\n\t\tconst dv = this;\n\t\tconst axisName = dv.axisName(keyKey);\n\t\tlet toReturn = [];\n\n\t\tswitch(keyKey){\n\t\t\tcase 'color':\n\t\t\t\ttoReturn = dv.args(`${keyKey}Palette`);\n\t\t\t\tbreak;\n\n\t\t\tcase 'area':\n\t\t\t\ttoReturn = [\n\t\t\t\t\tdv.args('areaMin'),\n\t\t\t\t\tdv.args('areaMax')\n\t\t\t\t];\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\tcase 1:\n\t\t\t\tif(\n\t\t\t\t\tdv.args( `${ToOppoAxis(axisName)}Align` ) == 'top'\n\t\t\t\t\t|| dv.args( `${ToOppoAxis(axisName)}Align` ) == 'left'\n\t\t\t\t) {\n\t\t\t\t\ttoReturn = [ 0, dv.args( ToSide(axisName) ) ];\n\n\t\t\t\t}else{\n\t\t\t\t\ttoReturn = [ dv.args( ToSide(axisName) ) , 0 ];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\treturn toReturn;\n\n\t}\n\n\tdomain(keyKey){\n\t\tconst dv = this;\n\t\tconst key = dv.args(`key['${keyKey}']`);\n\t\tlet toReturn = [];\n\n\t\tif(key){\n\n\t\t\t// @TODO get deep into the anals of this for multiple data setup\n\t\t\tlet\n\t\t\t\tdat = dv.theData(true);\n\t\n\t\t\tconst axisName = dv.axisName(keyKey);\n\t\t\tconst pushToDom = (d)=> {\n\t\t\t\t\tif(!toReturn.includes(dv._get(d, key ))){\n\t\t\t\t\t\ttoReturn.push(dv._get(d, key ));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\tswitch(keyKey){\n\t\t\t\tcase 'color':\n\t\t\t\t\t\tdat.forEach((dis)=>{\n\t\t\t\t\t\t\tpushToDom(dis);\n\t\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'area':\n\t\t\t\tcase 0:\n\t\t\t\tcase 1:\n\t\t\t\t\tif(\n\t\t\t\t\t\tdv.args('nameIsNum') == true\n\t\t\t\t\t\t|| keyKey == 1\n\t\t\t\t\t\t|| keyKey == 'area'\n\t\t\t\t\t){\n\t\t\t\t\t\tlet min,max;\n\t\t\t\t\t\t//min\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\tdv.args(`${axisName}Min`) !== null\n\t\t\t\t\t\t\t\t&& keyKey !== 'area'\n\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\tmin = dv.args(`${axisName}Min`);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tmin = d3.min(dat,(dis)=>{\n\t\t\t\t\t\t\t\t\treturn dv._get(dis, key, true);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//max\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\tdv.args(`${axisName}Max`) !== null\n\t\t\t\t\t\t\t\t&& keyKey !== 'area'\n\t\t\t\t\t\t\t){\n\t\t\t\t\t\t\t\tmax = dv.args(`${axisName}Max`)\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tmax = d3.max(dat,(dis)=>{\n\t\t\t\t\t\t\t\t\treturn dv._get(dis, key, true);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttoReturn = [min,max];\n\n\t\t\t\t\t\t//if it a scatter plot we get nereast\n\t\t\t\t\t\tif(dv._is_base('scatter') && keyKey == 0){\n\t\t\t\t\t\t\tconst newMin = GetNearest(min),\n\t\t\t\t\t\t\t\tnewMax = GetNearest(max);\n\t\t\t\t\t\t\ttoReturn = [newMin,newMax];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\t//retains multiple instances\n\t\t\t\t\t\ttoReturn = dat.map((dis)=>{\n\t\t\t\t\t\t\treturn dv._get(dis, key, false);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t//this dont\n\t\t\t\t\t\tdat.forEach((dis)=>{\n\t\t\t\t\t\t\tpushToDom(dis);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif(dv.args(`reverse.${keyKey}`)) {\n\t\t\t\t\t\t// dont use .reverse because it's a piece of shit\n\t\t\t\t\t\tconst reversed = [];\n\n\t\t\t\t\t\tfor (let i = toReturn.length - 1; i >= 0; i--) {\n\t\t\t\t\t\t\treversed.push(toReturn[i]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttoReturn =  reversed;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t\t\n\t\treturn toReturn;\n\t}\n\n\tscale(keyKey,dataToScale){\n\t\tdataToScale = dataToScale || false;\n\t\tconst dv = this;\n\t\tlet toReturn;\n\n\t\tconst range = dv.range(keyKey);\n\t\tconst domain = dv.domain(keyKey);\n\n\t\tswitch(keyKey){\n\n\t\t\tcase 'color':\n\t\t\t\ttoReturn = d3.scaleOrdinal()\n\t\t\t\t\t.range(range) \n\t\t\t\tbreak;\n\n\t\t\tcase 'area':\n\t\t\tcase 0:\n\t\t\tcase 1:\n\t\t\t\tif(dv.args('nameIsNum') == true || keyKey == 1 || keyKey == 'area' ){\n\t\t\t\t\tif(dv.args('nameIsNum') == true && keyKey == 0 && dv._is_base('scatter')){\n\t\t\t\t\t\ttoReturn = d3.scaleSymlog()\n\t\t\t\t\t\t\t.constant(OPTIMAL_SCALE_LOG_CONST)\n\t\t\t\t\t\t\t.range(range)\n\t\t\t\t\t\t\t.domain(domain)\n\t\t\t\t\t\t\t;\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoReturn = d3.scaleLinear()\n\t\t\t\t\t\t\t.range(range)\n\t\t\t\t\t\t\t.domain(domain)\n\t\t\t\t\t\t\t;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tif(dv._is_base(['line','scatter'])){\n\t\t\t\t\t\ttoReturn = d3.scalePoint() //scales shit to dimensios\n\t\t\t\t\t\t\t.range(range) // scaled data from available space\n\t\t\t\t\t\t\t.domain(domain) \n\t\t\t\t\t\t\t;\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoReturn = d3.scaleBand() //scales shit to dimensios\n\t\t\t\t\t\t\t.range(range) // scaled data from available space\n\t\t\t\t\t\t\t.domain(domain)\n\t\t\t\t\t\t\t.paddingInner(dv.args('barGutter')) //spacing between\n\t\t\t\t\t\t\t.paddingOuter(dv.args('barGutter'))\n\t\t\t\t\t\t\t;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t}\n\t\t\n\t\treturn dataToScale\n\t\t\t? toReturn(dataToScale)\n\t\t\t: toReturn;\n\t}\n\n\tformat(keyKey) {\n\t\tkeyKey = Str.toCapitalize(keyKey.toString());\n\t\tconst dv = this;\n\t\tlet toReturn;\n\t\t\n\t\tif(typeof dv.args(`format${keyKey}Parameter`) === 'function' ) {\n\t\t\ttoReturn = dv.args(`format${keyKey}Parameter`)\n\n\t\t}else if( typeof dv.args(`format${keyKey}Parameter`) === 'string' ) {\n\t\t\ttoReturn = ((value,i)=>{\n\t\t\t\treturn d3.format(args(`format${keyKey}Parameter`))(value)\n\t\t\t})\n\n\t\t}else{\n\t\t\ttoReturn = ((value,i)=>{\n\t\t\t\tconst\n\t\t\t\t\tdivider = dv.args( `format${keyKey}Divider`),\n\t\t\t\t\tprepend = dv.args( `format${keyKey}Prepend`),\n\t\t\t\t\tappend = dv.args( `format${keyKey}Append`),\n\t\t\t\t\tdataPossiblyDivided = \n\t\t\t\t\t\t(keyKey == 1 || dv.args('nameIsNum') == true )\n\t\t\t\t\t\t\t? (value / divider)\n\t\t\t\t\t\t\t: value,\n\t\t\t\t\tformatted = `${prepend}${dataPossiblyDivided}${append}`;\n\t\t\t\treturn formatted;\n\t\t\t})\n\t\t}\n\n\t\treturn toReturn\n\n\t}\n\n\tAxis(axisName) {\n\t\treturn new Axis(this,axisName);\n\t}\n\n\tget Tip() {\n\t\treturn new Tip(this,CLASS_TOOLTIP);\n\n\t}\n\n\tShape(dis,i){\n\t\tdis = dis || false;\n\t\ti = i || null;\n\t\treturn new Shape(this,dis,i);\n\t}\n\n\tPi(dis,i){\n\t\tdis = dis || false;\n\t\ti = i || null;\n\t\treturn new Pi(this,dis,i);\n\t}\n\n\tLine(data){\n\t\tdata = data || false;\n\t\treturn new Line(this,data);\n\t}\n\n\tLabel(axisName){\n\t\tconst dv = this;\n\t\t\n\t\treturn new Label(this,axisName);\n\t\t\n\t}\n\n\ttheData(displayed,d3method){\n\t\tdisplayed = displayed || false;\n\t\td3method = d3method || ''; //group,pie\n\n\t\tconst dv = this;\n\n\t\tlet toReturn = [];\n\n\t\tconst data = displayed\n\t\t\t? dv.drawnData\n\t\t\t: dv.completeData\n\t\t;\n\n\t\tswitch(d3method){\n\t\t\tcase 'pie':\n\t\t\t\tconst pie =  d3[d3method]()\n\t\t\t\t\t.sort(null)\n\t\t\t\t\t.value((dis)=>{\n\t\t\t\t\t\treturn dv._get(dis,dv.args(`key[1]`),true)\n\t\t\t\t\t})\n\t\t\t\t\t;\n\n\t\t\t\ttoReturn = pie(data);\n\t\t\t\tbreak;\n\t\t\tcase 'group':\n\t\t\t\tif(dv.args('srcMultiple') == true){\n\t\t\t\t\ttoReturn = d3[d3method](\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\t(dis)=>{\n\t\t\t\t\t\t\treturn dis[ dv.args(`key['multiple']`)]\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\n\t\t\t\t\t//to array because its easier to deal with\n\t\t\t\t\ttoReturn = Array.from(\n\t\t\t\t\t\ttoReturn,\n\t\t\t\t\t\t([name, value]) => {\n\t\t\t\t\t\t\treturn { parent: name, values: value }\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tdefault:\n\t\t\t\ttoReturn = data;\n\t\t}\n\n\t\treturn toReturn; \n\n\t}\n\n\tget theUi(){\n\t\treturn d3.select(this.selector);\n\t}\n\n\tkill(errorMessage){\n\n\t\tconst dv = this;\n\n\n\t\tconst errorFront = \"Sorry, unable to display data.\" + (  dv.#is_debuggy ? \"<br> Please check the console for more details\" : '');\n\n\t\tdv.theUi.classed(`${CLASS_READY}`,true);\n\n\t\tif(!dv.theUi.select(`.${CLASS_BODY}.${CLASS_ERROR}`)){\n\t\t\tdv.theUi\n\t\t\t\t.append('div')\n\t\t\t\t.attr('class',`${CLASS_BODY} ${CLASS_ERROR}`)\n\t\t\t\t.html( errorFront );\n\t\t}\n\t\tconsole.error(errorMessage);\n\t\treturn false;\n\t}\n\t\n\n\trenderHeader(){\n\t\tconst dv = this;\n\t\tdv.theUi.\n\t\t\tappend('div').lower()\n\t\t\t.attr('class',`${CLASS_HEADER}`)\n\t\t\t;\n\n\t\tif(dv.args('title')){\n\t\t\tdv.header\n\t\t\t\t.append('span')\n\t\t\t\t.attr('class',`${CLASS_TITLE}`)\n\t\t\t\t.text(dv.args('title'))\n\t\t\t\t;\n\t\t}\n\n\t\tif(dv.args('description')){\n\t\t\tdv.header\n\t\t\t\t.append('span')\n\t\t\t\t.attr('class',`${CLASS_DESCRIPTION}`)\n\t\t\t\t.text(dv.args('description'))\n\t\t\t\t;\n\t\t}\n\n\t\tdv.header\n\t\t\t.style('padding-top', () => {\n\t\t\t\t`${(dv.margin.top / dv.args('height')) * 50}%`\n\t\t\t})\n\t\t\t.style('padding-left', () => {\n\t\t\t\t`${(dv.margin.left / dv.outer('width')) * 100}%`\n\t\t\t})\n\t\t\t.style('padding-right', () => {\n\t\t\t\t`${(dv.margin.right / dv.outer('width')) * 100}%`\n\t\t\t})\n\t\t\t.transition(dv.duration)\n\t\t\t.styleTween('opacity',() => {dv.interpolate(0,1)})\n\t\t\t;\n\n\t}\n\n\trenderContent(){\n\t\tconst dv = this;\n\t\tdv.theUi\n\t\t\t.append('div')\n\t\t\t.attr('class', `${CLASS_BODY}`)\n\t\t\t.style('position','relative')\n\t\t\t.style('padding-bottom',() => {\n\t\t\t\treturn `${(( dv.outer('height') / dv.outer('width')) * 100)}%`;\n\t\t\t})\n\t\t\t.style('position','relative');\n\n\t\t//render the rest l8er so it dont get in the way of performance\n\t\tdv.addListeners(dv);\n\n\t}\n\n\trenderSVG() {\n\t\tconst dv = this;\n\n\t\tdv.content\n\t\t\t.append('svg')\n\t\t\t.attr('class',`${CLASS_SVG}\n\t\t\t\t${dv.createClass('type')}-${dv.args('type')}\n\t\t\t\t${dv.createClass('base')}-${dv.baseType}\n\t\t\t\t${dv.createClass(\n\t\t\t\t\t'no',\n\t\t\t\t\t'has',\n\t\t\t\t\t(\n\t\t\t\t\t\tdv.args('colorPalette').length > 0\n\t\t\t\t\t\t|| dv.args('linePointsColor') !== null\n\t\t\t\t\t\t|| dv.args('lineColor') !== null\n\t\t\t\t\t),\n\t\t\t\t)}-palette\n\n\t\t\t\t${dv.createClass(\n\t\t\t\t\t'no',\n\t\t\t\t\t'has',\n\t\t\t\t\t(\n\t\t\t\t\t\t!dv._is_base('pie')\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tdv.args('xTicks')\n\t\t\t\t\t\t\t|| dv.args('yTicks')\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)}-palette\n\n\t\t\t\t${dv.createClass(\n\t\t\t\t\t'no',\n\t\t\t\t\t'has',\n\t\t\t\t\t( dv.args('colorLegend') )\n\t\t\t\t)}-legend\n\n\t\t\t\t${dv.createClass(\n\t\t\t\t\t`no-label`,\n\t\t\t\t\t`pi-label-style-${dv.args('piLabelStyle')}`,\n\t\t\t\t\t( dv.args('colorLegend') &&  dv.args('piLabelStyle') !== null )\n\t\t\t\t)}\n\t\t\t`)\n\t\t\t;\n\n\t\tdv.svg\n\t\t\t.attr('id',`${this.selector}-svg`)\n\t\t\t.style('position','absolute')\n\t\t\t.style('top','0')\n\t\t\t.style('left','0')\n\t\t\t.style('bottom','0')\n\t\t\t.style('right','0')\n\t\t\t.style('margin','auto')\n\t\t\t.attr('version','1.1')\n\t\t\t.attr('x','0px')\n\t\t\t.attr('y','0px')\n\t\t\t.attr('viewBox', `0 0 ${dv.outer('width')} ${dv.outer('height')}`)\n\t\t\t.attr('preserveAspectRatio', 'xMidYMid meet')\n\t\t\t.attr('xml:space','preserve')\n\t\t\t.attr('width',dv.outer('width'))\n\t\t\t.attr('height',dv.outer('height'))\n\t\t\t;\n\n\t\t//container for bitches\n\t\tdv.svg\n\t\t\t.append('g')\n\t\t\t.attr('class',CLASS_G_CONTAINER)\n\t\t\t.attr('font-size',dv.args('fontSize'))\n\t\t\t.style('line-height',1)\n\t\t\t.attr('transform',`translate( ${dv.margin.left} , ${dv.margin.top} )`)\n\t\t\t\n\n\t\tdv._has_labels && dv.renderLabels();\n\t\tif(dv._has_ticks()){\n\t\t\tdv.renderRulers();\n\t\t\tdv._has_grid && dv.renderGrid();\n\t\t}\n\n\t\tdv.logStyleWarns();\n\n\t\tdv.draw();\n\t\t\t\n\t}\n\n\trenderLabels(){\n\t\tconst dv = this;\n\t\tdv.#renderAG(CLASS_LABELS);\n\n\t\tCoordinates.forEach((axisName) => {\n\t\t\tif( dv._has_ticks(axisName) ) {\n\n\t\t\t\tdv.labels\n\t\t\t\t\t.append('text')\n\t\t\t\t\t.attr('class',`${CLASS_LABEL_PREFIX}-${axisName}`)\n\t\t\t\t\t.attr('y',() => {\n\t\t\t\t\t\treturn dv.Label(axisName).offset('y');\n\t\t\t\t\t})\n\t\t\t\t\t.attr('x',() => {\n\t\t\t\t\t\treturn dv.Label(axisName).offset('x');\n\t\t\t\t\t})\n\t\t\t\t\t.attr('font-size', '1em')\n\t\t\t\t\t.attr('text-anchor', 'middle')\n\t\t\t\t\t.attr('fill','currentColor')\n\t\t\t\t\t.attr('opacity',0)\n\t\t\t\t\t.text(dv.args(axisName+'Label'))\n\t\t\t\t\t.attr('transform',()=>{\n\t\t\t\t\t\tif(axisName == 'y'){\n\t\t\t\t\t\t\treturn 'rotate(-90)';\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.transition(dv.duration)\n\t\t\t\t\t.attr('opacity',1);\n\t\t\t\t\t;\n\t\t\t}\n\t\t})\n\t}\n\n\trenderTicks(tickContainer,isGrid){\n\t\tisGrid = isGrid || false;\n\n\t\tif(!tickContainer){\n\t\t\treturn\n\t\t}\n\n\t\tconst dv = this;\n\n\t\tCoordinates.forEach((axisName) => {\n\t\t\tif( dv._has_ticks(axisName) ) {\n\t\t\t\tconst alignString = dv.args(`${axisName}Align`);\n\t\t\t\t//ruler/grid\n\t\t\t\t\ttickContainer\n\t\t\t\t\t\t.append('g')\n\t\t\t\t\t\t.attr('class', `\n\t\t\t\t\t\t\t${dv.createClass(\n\t\t\t\t\t\t\t\t`${CLASS_RULER_PREFIX}-${axisName}`,\n\t\t\t\t\t\t\t\t`${CLASS_GRID_PREFIX}-${axisName}`,\n\t\t\t\t\t\t\t\tisGrid,false\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t${dv.createClass(\n\t\t\t\t\t\t\t\t`${CLASS_RULER_ALIGN_PREFIX}-${alignString}`,\n\t\t\t\t\t\t\t\t`${CLASS_GRID_INC_PREFIX}-${dv.args(`${axisName}GridIncrement`)}`,\n\t\t\t\t\t\t\t\tisGrid,false\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t`)\n\t\t\t\t\t\t.attr('transform',() =>{\n\n\t\t\t\t\t\t\tlet transformCoord;\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tswitch( axisName+' '+alignString ) {\n\t\t\t\t\t\t\t\tcase 'x bottom':\n\t\t\t\t\t\t\t\t\ttransformCoord = `0 , ${dv.args('height')}`;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'y right':\n\t\t\t\t\t\t\t\t\ttransformCoord =  `${dv.args('width')} , 0`;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\t\t\t\t\tdefault: \n\t\t\t\t\t\t\t\t\ttransformCoord = '0 , 0'\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(transformCoord) return 'translate('+transformCoord+')'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t;\n\t\n\t\t\t}\n\t\t});\n\t\t\n\t}\n\n\trenderRulers(){\n\t\tconst dv = this;\n\t\tdv.#renderAG(CLASS_RULERS);\t\n\t\tdv.rulers\n\t\t\t.attr('font-size',dv.args('textTicksSize')+'em')\n\n\t\tdv.renderTicks(dv.rulers,false);\n\t}\n\n\n\trenderGrid(){\n\t\tconst dv = this;\n\t\tdv.#renderAG(CLASS_GRIDS);\n\t\tdv.grid\n\t\t\t.attr('font-size',dv.args('textTicksSize')+'em')\n\t\t\t\n\t\tdv.renderTicks(dv.grid,true);\n\t}\n\n\tdrawTooltip(){\n\t\tconst dv = this;\n\t\tdv.svg\n\t\t\t.append('circle')\n\t\t\t.attr('class',`${CLASS_CURSOR_STALKER}`)\n\t\tdv.svg.call( dv.Tip.getCall() );\n\t}\n\n\tlogStyleWarns(){\n\t\tconst dv = this;\n\n\t\tif(dv.#is_debuggy){\n\n\t\t\tif(\n\t\t\t\tdv.args('width') == DataVisualizer.defaults('width')\n\t\t\t\t&& dv.args('height') == DataVisualizer.defaults('height')\n\t\t\t\t&& dv.completeData > OPTIMAL_DEFAULT_DATA_COUNT\n\t\t\t){\n\t\t\t\t\n\t\t\t\tconsole.debug(dv.selector+' Width and height was not adjusted. graph elements may not fit in the canvas');\n\t\t\t\n\t\t\t}else if(\n\t\t\t\tdv.args('width') < DataVisualizer.defaults('width')\n\t\t\t\t&& dv.args('height') < DataVisualizer.defaults('height')\n\t\t\t){\n\n\t\t\t\tconsole.debug(dv.selector+' set canvas width and or height may be too small.\\n Tip: The given height and width are not absolute and act more like aspect ratios. svgs are responsive and will shrink along with content.');\n\n\t\t\t}\n\n\t\t\tif(\n\t\t\t\t(JSON.stringify(dv.args('margin')) == JSON.stringify(DataVisualizer.defaults('margin')))\n\t\t\t\t&& dv._has_labels()\n\t\t\t\t&& dv._has_ticks()\n\t\t\t){\n\t\t\t\tconsole.debug(dv.selector+' text may overlap. margins may need to be modified');\n\t\t\t}\n\t\t}\n\t}\n\n\tdrawAxes(){\n\t\tconst dv = this;\n\t\tCoordinates.forEach((axisName)=>{\n\t\t\tif(dv._has_ticks(axisName)){\n\n\t\t\t\tdv.ruler(axisName)\n\t\t\t\t\t.transition(dv.duration)\n\t\t\t\t\t.call( dv.Axis(axisName).getCall(false) )\n\t\t\t\t\t.attr('font-family',null)\n\t\t\t\t\t.attr('font-size',null);\n\t\t\t\tif(dv._has_grid(axisName)){\n\t\t\t\t\tdv.gridCol(axisName)\n\t\t\t\t\t\t.transition(dv.duration)\n\t\t\t\t\t\t.call( dv.Axis(axisName).getCall(true) );\n\t\t\t\t\tdv.gridCol(axisName).selectAll('g')\n\t\t\t\t\t\t.classed('grid',true)\n\t\t\t\t\t\t.filter((dis,i)=>{\n\t\t\t\t\t\t\t//IM HERE FUCKER\n\t\t\t\t\t\t\tlet isAligned = false;\n\t\t\t\t\t\t\tdv.ruler(axisName).selectAll('g')\n\t\t\t\t\t\t\t\t.each((tik)=>{\n\t\t\t\t\t\t\t\t\t//if current looped tik matches dis grid data, add the class boi\n\t\t\t\t\t\t\t\t\tif(tik == dis){\n\t\t\t\t\t\t\t\t\t\tisAligned = true;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\treturn isAligned;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.classed('tick-aligned',true)\n\t\t\t\t\t\t;\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\t}\n\n\t#drawGraphSet(classPrefix){\n\t\tconst dv = this;\n\n\t\tconst graphSet = dv.g\n\t\t\t.selectAll(`g.${classPrefix}`)\n\t\t\t.data(\n\t\t\t\tdv.readyData(),\n\t\t\t\t(dat)=>{ return dat.parent }\n\t\t\t)\n\t\t\t.enter()\n\t\t\t\t.append('g')\n\t\t\t\t.attr('class',(dat)=>{\n\t\t\t\t\treturn `${classPrefix}\n\t\t\t\t\t\t${dv.createClass(\n\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t`data-group-${dat.parent} ${classPrefix}-set`,\n\t\t\t\t\t\t\t(dat.parent && dat.key)\n\t\t\t\t\t\t)}`;\n\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.attr('transform',()=> {\n\t\t\t\t\treturn dv._is_base('pie')\n\t\t\t\t\t\t? `translate( ${dv.Pi().offset('x')} , ${dv.Pi().offset('y')} )`\n\t\t\t\t\t\t: ''\n\t\t\t\t})\n\t\t\t\t;\n\n\n\t\t\tgraphSet.exit()\n\t\t\t\t.transition(10) //DO NOT\n\t\t\t\t.style('opacity',0)\n\t\t\t\t.remove()\n\t\t\t\t;\n\t}\n\n\tdrawGraph(){\n\t\tthis.#drawGraphSet(CLASS_GRAPH);\n\t}\n\n\tdrawText(){\n\t\tthis.#drawGraphSet(CLASS_TEXTS);\n\t}\n\n\treadyData(){\n\t\tconst dv = this;\n\t\tlet toReturn;\n\t\tif(dv._has_nested_data){\n\t\t\ttoReturn = dv.theData(true,'group');\n\t\t}else{\n\t\t\t//fake it so it still wiorks\n\t\t\ttoReturn = [{\n\t\t\t\tparent:'flat',\n\t\t\t\tvalues: dv.theData(true)\n\t\t\t}]\n\t\t}\n\n\t\treturn toReturn;\n\t}\n\n\tdrawLineGraph(){\n\t\tconst dv = this;\n\t\tdv.graphs\n\t\t\t.append('path').lower()\n\t\t\t.attr('class',\n\t\t\t\t`${CLASS_LINE_GRAPH}\n\t\t\t\t${dv.createClass(\n\t\t\t\t\t'no',\n\t\t\t\t\t'has',\n\t\t\t\t\tdv.args('lineColor') !== null\n\t\t\t\t)}-color`\n\t\t\t)\n\t\t\t.attr('fill','none')\n\t\t\t.attr('stroke-width',dv.args('lineWeight'))\n\t\t\t.attr('stroke-linejoin','round')\n\t\t\t.attr('stroke-dasharray',dv.args('lineDash'))\n\t\t\t.attr('stroke-opacity',1)\n\t\t\t.attr('stroke-dasharray','0,0')\n\t\t\t.attr('stroke',dv.args(`lineColor`))\n\t\t\t// .attr('d',getLinePath(false,false))\n\t\t\t.transition(dv.duration)\n\t\t\t\t.attrTween('d',function(dat){\n\t\t\t\t\treturn dv.interpolate(\n\t\t\t\t\t\tdv.Line(dat.values).path(false,true),\n\t\t\t\t\t\tdv.Line(dat.values).path(false,false)\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t;\n\t\t\n\t\tif(dv.args('lineFill')){\n\t\t\tdv.graphs\n\t\t\t\t.append('path').lower()\n\t\t\t\t.attr('class',\n\t\t\t\t\t`${CLASS_LINE_FILL}\n\t\t\t\t\t${dv.createClass(\n\t\t\t\t\t\t'no',\n\t\t\t\t\t\t'has',\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tdv.args(`lineFillColor`) !== null\n\t\t\t\t\t\t\t|| dv.args(`lineColor`) !== null\n\t\t\t\t\t\t)\n\t\t\t\t\t)}-color`\n\t\t\t\t)\n\t\t\t\t.attr('fill',\n\t\t\t\tdv.args(`lineFillColor`) || dv.args(`lineColor`))\n\t\t\t\t.attr('fill-opacity',dv.args(`lineFillOpacity`))\n\t\t\t\t.transition(dv.duration)\n\t\t\t\t\t.attrTween('d',function(dat){\n\t\t\t\t\t\treturn dv.interpolate(\n\t\t\t\t\t\t\tdv.Line(dat.values).path(true,true),\n\t\t\t\t\t\t\tdv.Line(dat.values).path(true,false)\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t}\n\t}\n\n\tdrawItemShapes(){\n\t\tconst dv = this;\n\n\t\tconst shape = dv.itemShapes\n\t\t\t.data((d)=>{\n\t\t\t\treturn d.values\n\t\t\t});\n\n\t\tshape.exit()\n\t\t\t.transition(dv.duration)\n\t\t\t.style('opacity',0)\n\t\t\t.remove();\n\n\t\tconst shape_enter = shape.enter()\n\t\t\t.append(dv.Shape().tag)\n\t\t\t.attr('class', (dis)=>{\n\t\t\t\treturn `${CLASS_ITEM}\n\t\t\t\t\t${CLASS_ITEM_BLOB}\n\t\t\t\t\tdata-name-${dv._get(dis,dv.args(`key[0]`))}\n\t\t\t\t\t`;\n\t\t\t})\n\t\t\t;\n\n\t\t\t//COORDINATE\n\t\t\tif(dv._is_base(['bar','line','scatter'])){\n\t\t\t\tshape_enter\n\t\t\t\t\t.attr(\n\t\t\t\t\t\tdv.Shape().coordAttr('x'),\n\t\t\t\t\t\t(dis,i)=>{\n\t\t\t\t\t\t\treturn dv.Shape(dis,i).offset('x',true);\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\t.attr(\n\t\t\t\t\t\tdv.Shape().coordAttr('y'),\n\t\t\t\t\t\t(dis,i)=>{\n\t\t\t\t\t\t\treturn dv.Shape(dis,i).offset('y',true);\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\t;\n\t\t\t}\n\n\n\t\t\t//SIZE N SHIT\n\t\t\tif(dv._is_base(['line','scatter'])){\n\t\t\t\tshape_enter\n\t\t\t\t\t.attr('r',(dis,i)=>{\n\t\t\t\t\t\treturn dv.Shape(dis,i).radius(true);\n\t\t\t\t\t})\n\t\t\t\t\t;\n\n\n\t\t\t}else if(dv._is_base('bar')){\n\t\t\t\tshape_enter\n\t\t\t\t\t.attr('width',(dis,i)=>{\n\t\t\t\t\t\treturn dv.Shape(dis,i).size('x',true)\n\t\t\t\t\t})\n\t\t\t\t\t.attr('height',(dis,i)=>{\n\t\t\t\t\t\treturn dv.Shape(dis,i).size('y',true)\n\t\t\t\t\t})\n\t\t\t\t\t;\n\t\t\t}\n\n\t\t\t//FILL AND STROKE\n\t\t\t// render but not visible so that tooltip can work if needed\n\t\t\tif(dv._is_base('line') && !dv.args('linePoints')) {\n\t\t\t\tshape_enter\n\t\t\t\t\t.attr('opacity',0);\n\t\t\t}\n\n\t\tconst shape_merge = shape.merge(shape_enter)\n\t\t\t\t\t\t\t\t\n\t\t\t//COORDINATES\n\t\t\tif(dv._is_base(['bar','line','scatter'])){\n\t\t\t\tshape_merge\n\t\t\t\t\t// .transition(dv.duration)\n\t\t\t\t\t\t.attr(\n\t\t\t\t\t\t\tdv.Shape().coordAttr('x'),\n\t\t\t\t\t\t\t(dis,i)=>{\n\t\t\t\t\t\t\t\treturn dv.Shape(dis,i).offset('x');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.attr(\n\t\t\t\t\t\t\tdv.Shape().coordAttr('y'),\n\t\t\t\t\t\t\t(dis,i)=>{\n\t\t\t\t\t\t\t\tconsole.log('luh',dv.Shape(dis,i).offset('y',false));\n\t\t\t\t\t\t\t\treturn dv.Shape(dis,i).offset('y');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t\t;\n\t\t\t}\n\n\t\t\t//SIZE N SHIT\n\t\t\tif(dv._is_base(['line','scatter'])){\n\t\t\t\tshape_merge\n\t\t\t\t\t.transition(dv.duration)\n\t\t\t\t\t\t.attr('r',(dis,i)=>{\n\t\t\t\t\t\t\treturn dv.Shape(dis,i).radius()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t;\n\n\n\t\t\t}else if(dv._is_base('bar')){\n\t\t\t\tshape_merge\n\t\t\t\t\t.transition(dv.duration)\n\t\t\t\t\t\t\n\t\t\t\t\t\t.attr('width',(dis,i)=>{\n\t\t\t\t\t\t\treturn dv.Shape(dis,i).size('x')\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.attr('height',(dis,i)=>{\n\t\t\t\t\t\t\treturn dv.Shape(dis,i).size('y')\n\t\t\t\t\t\t})\n\t\t\t\t\t\t;\n\t\t\t}\n\n\t\t\t//PETH\n\t\t\tif(dv._is_base('pie')){\n\t\t\t\tshape_merge\n\t\t\t\t\t.transition(dv.args(`transition`)) //DO NOT\n\t\t\t\t\t\t.attrTween('d',function(dis,i){\n\t\t\t\t\t\t\tdis.pie = dis.pie || dv.theData(true,'pie')[i];\n\t\t\t\t\t\t\tlet currPie = dis.pie;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn dv.interpolate(\n\t\t\t\t\t\t\t\tcurrPie.endAngle,\n\t\t\t\t\t\t\t\tcurrPie.startAngle,\n\t\t\t\t\t\t\t\t(value)=>{\n\t\t\t\t\t\t\t\t\tcurrPie.startAngle = value;\n\t\t\t\t\t\t\t\t\treturn dv.Pi(dis,i).path(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t//tooltip\n\t\t\tif(dv.args(`tooltipEnable`)) { //@TODO updet \n\t\t\t\tshape_merge\n\t\t\t\t\t// .on('mousemove',(dis)=>{\n\t\t\t\t\t// \t\t__calculated.tooltip.show(dis,renderCursorStalker(d3.event));\n\t\t\t\t\t// })\n\t\t\t\t\t// .on('mouseleave',__calculated.tooltip.hide);\n\t\t\t}\n\t\t\t\n\t\t\t//line  colors\n\t\t\tif(!dv.args(`colorPalette`).length){\n\t\t\t\tif(\n\t\t\t\t\tdv._is_base('line')\n\t\t\t\t\t&& (\n\t\t\t\t\t\tdv.args(`linePointsColor`)\n\t\t\t\t\t\t|| dv.args(`lineColor`)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tshape_merge\n\t\t\t\t\t\t.attr('fill',() => {\n\t\t\t\t\t\t\treturn dv.args(`linePointsColor`) || dv.args(`lineColor`);\n\t\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tshape_merge\n\t\t\t\t\t.attr('fill',(dis,i)=>{\n\t\t\t\t\t\treturn dv.scale(`color`,dv._get(dis,`key.color`));\n\t\t\t\t\t});\n\t\t\t\t\tif(dv._is_base('scatter')){\n\t\t\t\t\t\tshape_merge\n\t\t\t\t\t\t\t.attr('fill-opacity',args.areaOpacity)\n\t\t\t\t\t\t\t.attr('stroke-width',1)\n\t\t\t\t\t\t\t.attr('stroke',(dis,i)=>{\n\t\t\t\t\t\t\t\treturn dv.scale(dv._get(dis,`key.color`));\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t}\n\t}\n\t\n\tdrawItemStamps(){\n\t\tconst dv = this;\n\t\t(dv._has_polyline) && dv.drawItemPolyline();\n\t}\n\n\tdrawItemPolyline(){\n\n\t}\n\n\tdrawLegend(){\n\t\t\n\t}\n\n\tdraw(data){\n\t\tconst dv = this;\n\n\t\tdata = data || dv.drawnData;\n\n\t\tdv.drawnData = data;\n\n\t\t// ok do the thing now\n\t\tdv.#is_debuggy && console.info(\n\t\t\t\"\\n\",\n\t\t\tdv.selector,'('+dv.args('title')+')','-------------------------------------------------------------------',\"\\n\",\n\t\t\t'calculated shit',dv,\"\\n\",\n\t\t\t'data',dv.#data,\"\\n\",\n\t\t\t'args',dv.args(),\"\\n\",\n\t\t\t\"\\n\"\n\t\t);\n\n\n\t\t/******** AXIS + GRID ********/\n\t\t\tif(dv._is_base(['bar','line','scatter'])){\n\t\t\t\tdv._has_ticks && dv.drawAxes();\n\t\t\t}\n\t\t/******** GRAP ********/\n\t\t\tdv.drawGraph();\n\t\t/******** TEK ********/\n\t\t\tdv.drawText();\n\t\t/******** LINE ********/\n\t\t\tif(dv._is_base('line')){\n\t\t\t\tdv.drawLineGraph()\n\t\t\t}\n\n\t\t\n\t\t/******** BLOBS ********/\n\t\t\tdv.drawItemShapes();\n\t\t/******** ITEM LABELS ********/\n\t\t\tdv._has_text && dv.drawItemStamps();\n\t\t/******** LEGEND ********/\n\t\t\tdv.args('colorLegend') && dv.drawLegend()\n\t\t\t\n\n\t}\n\t\n\tget header(){\n\t\treturn this.theUi.select(`.${CLASS_HEADER}`);\n\t}\n\n\tget content(){\n\t\treturn this.theUi.select(`.${CLASS_BODY}`);\n\t}\n\n\tget svg(){\n\t\treturn this.content.select(`.${CLASS_SVG}`);\n\t}\n\n\t\tget g(){\n\t\t\treturn this.svg.select(`.${CLASS_G_CONTAINER}`);\n\t\t}\n\n\t\t\tget labels(){\n\t\t\t\treturn this.g.select(`.${CLASS_LABELS}`);\n\t\t\t}\n\n\t\t\t\tlabel(axis){\n\t\t\t\t\tif(axis){\n\t\t\t\t\t\treturn this.labels.select(`.${CLASS_LABEL_PREFIX}-${axis}`);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn this.labels();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tget rulers(){\n\t\t\t\treturn this.g.select(`.${CLASS_RULERS}`);\n\t\t\t}\n\n\t\t\t\truler(axis){\n\t\t\t\t\tif(axis){\n\t\t\t\t\t\treturn this.rulers.select(`.${CLASS_RULER_PREFIX}-${axis}`);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn this.rulers();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tget grid(){\n\t\t\t\treturn this.g.select(`.${CLASS_GRIDS}`);\n\t\t\t}\n\n\t\t\t\tgridCol(axis){\n\t\t\t\t\tif(axis){\n\t\t\t\t\t\treturn this.grid.select(`.${CLASS_GRID_PREFIX}-${axis}`);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn this.grid;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\tget graphs(){\n\t\t\treturn this.g.selectAll(`.${CLASS_GRAPH}`);\n\t\t}\n\n\t\t\tget line(){\n\t\t\t\treturn this.graphs.select(`.${CLASS_LINE_GRAPH}`);\n\t\t\t}\n\n\t\t\tget lineFill(){\n\t\t\t\treturn this.graphs.select(`.${CLASS_LINE_FILL}`);\n\t\t\t}\n\n\t\t\tget lineFill(){\n\t\t\t\treturn this.graphs.select(`.${CLASS_LINE_FILL}`);\n\t\t\t}\n\n\t\t\tget itemShapes(){\n\t\t\t\treturn this.graphs.selectAll(`.${CLASS_ITEM_BLOB}`);\n\t\t\t}\n\t\t\t\n\t\tget texts(){\n\t\t\treturn this.g.select(`.${CLASS_TEXTS}`);\n\t\t}\n\n\t\t\tget itemStamps(){\n\t\t\t\treturn this.texts.selectAll(`.${CLASS_ITEM_TEXT}`);\n\t\t\t}\n\n\t\tget cursorStalker(){\n\t\t\treturn this.svg.select(`.${CLASS_CURSOR_STALKER}`);\n\n\t\t}\n\n\tget tooltip(){\n\t\treturn this.theUi.select(`.${CLASS_TOOLTIP}`);\n\t}\n\n\n\tload(){\n\t\tconst dv = this;\n\n\t\t// data is embedded on the page oooooo\n\t\tif(dv.args('srcPath').indexOf(window.location.href) > -1){\n\t\t\tconst jsonSelector = document.getElementById(Str.hash(dv.args('srcPath'))).innerHTML;\n\t\t\t\n\t\t\tif( Str.isValidJSONString(jsonSelector) ){\n\t\t\t\tconst dataIsJSON = JSON.parse(jsonSelector);\n\t\t\t\tdv.init(dataIsJSON);\n\t\t\t}else{\n\t\t\t\tdv.kill('Data input may not be valid. Please check and update the syntax');\n\t\t\t}\n\n\t\t//o its not ok we normal now\n\t\t}else{\n\t\t\tswitch( Str.fileExtension(dv.args('srcPath')) ) {\n\t\t\t\tcase 'csv':\n\t\t\t\tcase 'dsv':\n\t\t\t\tcase 'tsv':\n\t\t\t\tcase 'xml':\n\t\t\t\t\td3[ Str.fileExtension(dv.args('srcPath')) ](\n\t\t\t\t\t\tdv.args('srcPath'),\n\t\t\t\t\t\t(d)=>{\n\t\t\t\t\t\t\treturn d;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then((retrievedData)=>{\n\t\t\t\t\t\t\t\tdv.init(retrievedData);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error)=>{\n\t\t\t\t\t\t\t\tdv.kill(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\td3.json(\n\t\t\t\t\t\tdv.args('srcPath'),\n\t\t\t\t\t\t(d)=>{\n\t\t\t\t\t\t\treturn d;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then((retrievedData)=>{\n\t\t\t\t\t\t\t\tdv.init(retrievedData);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((error)=>{\n\t\t\t\t\t\t\t\tdv.kill(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tinit(retrievedData){\n\t\tconst dv = this;\n\t\t\t\t\n\t\tdv.theUi\n\t\t\t.classed(\n\t\t\t\t`${CLASS_READY}\n\t\t\t\t${dv.createClass(\n\t\t\t\t\t'',\n\t\t\t\t\t'dark',\n\t\t\t\t\tColorIsDark(dv.args('colorBackground'))\n\t\t\t\t)}`,\n\t\t\t\ttrue)\n\t\t\t.style('background-color',dv.args('colorBackground'))\n\t\t\t;\n\n\t\t//set data\n\t\tdv.completeData = dv.#parseData(retrievedData);\n\n\t\tdv.renderHeader();\n\t\tdv.renderContent();\n\n\n\t}\n\n\taddListeners(dv){\n\t\tdv = dv || this;\n\t\twindow.addEventListener('scroll',dv.handlerScroll);\n\t\twindow.addEventListener('resize',dv.handlerResize);\n\t}\n\n\tget handlerScroll(){\n\t\tconst dv = this;\n\n\t\treturn (e)=> {\n\t\t\tconst graphPosition = dv.elem.getBoundingClientRect().top;\n\t\t\tif(graphPosition < (window.innerHeight * .5) && !dv.isLoaded) {\n\t\t\t\tdv.isLoaded = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdv.renderSVG();\n\t\t\t\t\tdv._has_tooltip && dv.drawTooltip();\n\t\t\t\t},dv.args('delay'));\n\t\t\t}\n\t\t}\n\t}\n\n\tget handlerResize(){\n\t\tconst dv = this;\n\n\t\treturn (e)=> {\n\t\t\tclearTimeout(dv.resizeInt);\n\t\t\tdv.resizeInt = setTimeout(() => {\n\t\t\t\tdv.draw();\n\t\t\t},300);\n\t\t}\n\t}\n\n\n}\n\nexport default DataVisualizer;"],"names":["Component","dv","props","key","Coordinates","DatumKeys","DeepValidate","defaults","arr","args","Object","keys","forEach","prop","i","hasOwnProperty","call","ToSide","axisName","opposite","ToOppoAxis","VaildateBrowser","ua","navigator","userAgent","indexOf","Str","fileExtension","str","split","pop","hash","url","type","length","IsValidJSONString","JSON","parse","e","toCamelCase","replace","word","index","toLowerCase","toUpperCase","toCapitalize","charAt","slice","ColorIsDark","hexString","r","g","b","hsp","match","Math","sqrt","ValidMargin","variable","GetNearest","num","pow","toString","Axis","isGrid","values","currVal","domain","push","d3AxisKey","toReturn","d3","scale","_is_base","_name_is_num","tickValues","_has_axis_prop","ticks","amount","tickSize","tickFormat","dis","format","Shape","initial","radius","linePointsSize","_get","keyKey","dataToScale","coord","oppoAlign","dimension","scaledValue","bandwidth","console","warn","name","size","baseType","OPTIMAL_LABEL_OFFSET_MULTIPLIER","Label","offset","margin","bottom","top","right","fontSize","left","Line","data","isArea","d3PathType","path","aCord","axisToFill","value","fill","x","y","curve","style","theString","OPTIMAL_PI_MULTIPLIER","OPTIMAL_PI_LEGENDARY_MULTIPLIER","Pi","calcWithInnerRadius","subMethod","offsetMultiplier","disPi","pie","innerRadius","outerRadius","arc","min","Tip","classToAdd","tt","tip","attr","direction","html","createClass","prototype","propIsOutputted","lastIndexOf","default","PREFIX","BASE_TYPES","CLASS_READY","CLASS_ERROR","CLASS_HEADER","CLASS_TITLE","CLASS_DESCRIPTION","CLASS_BODY","CLASS_SVG","CLASS_G_CONTAINER","CLASS_LABELS","CLASS_LABEL_PREFIX","CLASS_RULERS","CLASS_RULER_PREFIX","CLASS_RULER_ALIGN_PREFIX","CLASS_GRIDS","CLASS_GRID_PREFIX","CLASS_GRID_INC_PREFIX","CLASS_GRAPH","CLASS_LINE_GRAPH","CLASS_ITEM","CLASS_ITEM_BLOB","CLASS_LINE_FILL","CLASS_TEXTS","CLASS_CURSOR_STALKER","CLASS_TOOLTIP","OPTIMAL_DEFAULT_DATA_COUNT","OPTIMAL_SCALE_LOG_CONST","DataVisualizer","selector","settings","displayed","complete","window","elem","document","querySelector","error","createElement","className","innerHTML","appendChild","Error","color","colorLegend","isLoaded","resizeInt","load","_resetUiEl","obj","stringedKeys","isNum","types","templates","Array","isArray","template","includes","_has_ticks","property","margins","start","end","fn","d3fn","t","interVal","classFallback","classForTrue","trueLogic","hasPrefix","dat","theData","pushToDom","d","max","newMin","newMax","map","reversed","range","scaleOrdinal","scaleSymlog","constant","scaleLinear","scalePoint","scaleBand","paddingInner","paddingOuter","divider","prepend","append","dataPossiblyDivided","formatted","d3method","drawnData","completeData","sort","from","parent","errorMessage","errorFront","theUi","classed","select","lower","header","text","outer","transition","duration","styleTween","interpolate","addListeners","content","svg","_has_labels","renderLabels","renderRulers","_has_grid","renderGrid","logStyleWarns","draw","labels","tickContainer","alignString","transformCoord","rulers","renderTicks","grid","getCall","debug","stringify","ruler","gridCol","selectAll","filter","isAligned","each","tik","_has_nested_data","graphs","attrTween","shape","itemShapes","exit","remove","shape_enter","enter","tag","coordAttr","shape_merge","merge","log","currPie","endAngle","startAngle","areaOpacity","_has_polyline","drawItemPolyline","info","drawAxes","drawGraph","drawText","drawLineGraph","drawItemShapes","_has_text","drawItemStamps","drawLegend","axis","location","href","jsonSelector","getElementById","isValidJSONString","dataIsJSON","init","kill","then","retrievedData","catch","json","renderHeader","renderContent","addEventListener","handlerScroll","handlerResize","parseFloat","__trans","ease","easeLinear","texts","CLASS_ITEM_TEXT","graphPosition","getBoundingClientRect","innerHeight","setTimeout","renderSVG","_has_tooltip","drawTooltip","clearTimeout","width","height","delay","title","description","srcType","srcPath","srcKey","srcMultiple","srcPreNest","textNameSize","textValueSize","textTicksSize","textLegendSize","nameIsNum","multiple","area","reverse","format0Prepend","format0Append","format0Parameter","format0Divider","format1Prepend","format1Append","format1Parameter","format1Divider","formatColorPrepend","formatColorAppend","formatColorParameter","areaMin","areaMax","colorBackground","colorPalette","colorData","xData","xAlign","xTicks","xLabel","xTicksAmount","xParameter","xMin","xMax","xGrid","xGridIncrement","xPrepend","xAppend","xDivider","yData","yAlign","yTicks","yLabel","yTicksAmount","yParameter","yMin","yMax","yGrid","yGridIncrement","yPrepend","yAppend","yDivider","barTextWithin","barGutter","lineStyle","lineWeight","lineColor","linePoints","lineFill","linePointsColor","lineFillColor","lineFillInvert","lineFillOpacity","lineDash","piLabelStyle","piInRadius","tooltipEnable","tooltipTextAlign","tooltipWidth","tooltipDirection","tooltipDirectionParameter","tooltipContent","multipleDisplay","colorBy","colorScheme","splitString","splice","multiIndex","is","isNaN","body","classList","contains","dataToParse","renderError","arrPreNest","appendParentProp","parentKey","_parent","par","toInclude","setKey","humanForKey","sortable","a","classPrefix","graphSet","readyData"],"mappings":"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"}